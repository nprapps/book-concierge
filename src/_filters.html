<form class="filters" autocomplete="off">
  <h3><%= json.copy.question %></h3>
  <p class="chatter">
    <%= json.copy.chatter %>
  </p>
  <%
    // initialize tags
    var tags = new Set();
    shelf.forEach(function(item) {
      item.tags.filter(t => t.trim()).forEach(t => tags.add(t));
    });
    var dashify = t => t.replace(/\s+/g, "-");
  %>
  <fieldset class="tags" aria-label="Select tags">
    <input type="checkbox" id="tag-staff-picks" value="staff picks">
    <label for="tag-staff-picks">Staff Picks</label>
    <% Array.from(tags).sort().filter(t => t != "staff picks").forEach(function(tag) { %>
    <input type="checkbox" id="tag-<%= dashify(tag) %>" value="<%= tag %>">
    <label for="tag-<%= dashify(tag) %>"><%= tag %></label>
    <% }); %>
  </fieldset>
</form>